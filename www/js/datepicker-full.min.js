"use strict";

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }
function _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : "undefined" != typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i["return"] && (_r = _i["return"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }
function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }
function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }
function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }
function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }
function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
!function () {
  "use strict";

  function e(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t);
  }
  function t(e) {
    return e[e.length - 1];
  }
  function i(e) {
    for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      t[_key - 1] = arguments[_key];
    }
    return t.forEach(function (t) {
      e.includes(t) || e.push(t);
    }), e;
  }
  function s(e, t) {
    return e ? e.split(t) : [];
  }
  function n(e, t, i) {
    return (void 0 === t || e >= t) && (void 0 === i || e <= i);
  }
  function a(e, t, i) {
    return e < t ? t : e > i ? i : e;
  }
  function r(e, t) {
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var s = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
    var n = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : "";
    n += "<".concat(Object.keys(i).reduce(function (e, t) {
      var n = i[t];
      return "function" == typeof n && (n = n(s)), "".concat(e, " ").concat(t, "=\"").concat(n, "\"");
    }, e), "></").concat(e, ">");
    var a = s + 1;
    return a < t ? r(e, t, i, a, n) : n;
  }
  function d(e) {
    return e.replace(/>\s+/g, ">").replace(/\s+</, "<");
  }
  function o(e) {
    return new Date(e).setHours(0, 0, 0, 0);
  }
  function c() {
    return new Date().setHours(0, 0, 0, 0);
  }
  function l() {
    switch (arguments.length) {
      case 0:
        return c();
      case 1:
        return o(arguments.length <= 0 ? undefined : arguments[0]);
    }
    var t = new Date(0);
    return t.setFullYear.apply(t, arguments), t.setHours(0, 0, 0, 0);
  }
  function h(e, t) {
    var i = new Date(e);
    return i.setDate(i.getDate() + t);
  }
  function u(e, t) {
    var i = new Date(e),
      s = i.getMonth() + t;
    var n = s % 12;
    n < 0 && (n += 12);
    var a = i.setMonth(s);
    return i.getMonth() !== n ? i.setDate(0) : a;
  }
  function f(e, t) {
    var i = new Date(e),
      s = i.getMonth(),
      n = i.setFullYear(i.getFullYear() + t);
    return 1 === s && 2 === i.getMonth() ? i.setDate(0) : n;
  }
  function p(e, t) {
    return (e - t + 7) % 7;
  }
  function g(e, t) {
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
    var s = new Date(e).getDay();
    return h(e, p(t, i) - p(s, i));
  }
  function m(e, t) {
    var i = new Date(e).getFullYear();
    return Math.floor(i / t) * t;
  }
  function w(e, t, i) {
    if (1 !== t && 2 !== t) return e;
    var s = new Date(e);
    return 1 === t ? i ? s.setMonth(s.getMonth() + 1, 0) : s.setDate(1) : i ? s.setFullYear(s.getFullYear() + 1, 0, 0) : s.setMonth(0, 1), s.setHours(0, 0, 0, 0);
  }
  var D = /dd?|DD?|mm?|MM?|yy?(?:yy)?/,
    y = /[\s!-/:-@[-`{-~年月日]+/;
  var v = {};
  var b = {
      y: function y(e, t) {
        return new Date(e).setFullYear(parseInt(t, 10));
      },
      m: function m(e, t, i) {
        var s = new Date(e);
        var n = parseInt(t, 10) - 1;
        if (isNaN(n)) {
          if (!t) return NaN;
          var _e2 = t.toLowerCase(),
            _s = function _s(t) {
              return t.toLowerCase().startsWith(_e2);
            };
          if (n = i.monthsShort.findIndex(_s), n < 0 && (n = i.months.findIndex(_s)), n < 0) return NaN;
        }
        return s.setMonth(n), s.getMonth() !== x(n) ? s.setDate(0) : s.getTime();
      },
      d: function d(e, t) {
        return new Date(e).setDate(parseInt(t, 10));
      }
    },
    k = {
      d: function d(e) {
        return e.getDate();
      },
      dd: function dd(e) {
        return M(e.getDate(), 2);
      },
      D: function D(e, t) {
        return t.daysShort[e.getDay()];
      },
      DD: function DD(e, t) {
        return t.days[e.getDay()];
      },
      m: function m(e) {
        return e.getMonth() + 1;
      },
      mm: function mm(e) {
        return M(e.getMonth() + 1, 2);
      },
      M: function M(e, t) {
        return t.monthsShort[e.getMonth()];
      },
      MM: function MM(e, t) {
        return t.months[e.getMonth()];
      },
      y: function y(e) {
        return e.getFullYear();
      },
      yy: function yy(e) {
        return M(e.getFullYear(), 2).slice(-2);
      },
      yyyy: function yyyy(e) {
        return M(e.getFullYear(), 4);
      }
    };
  function x(e) {
    return e > -1 ? e % 12 : x(e + 12);
  }
  function M(e, t) {
    return e.toString().padStart(t, "0");
  }
  function S(e) {
    if ("string" != typeof e) throw new Error("Invalid date format.");
    if (e in v) return v[e];
    var i = e.split(D),
      s = e.match(new RegExp(D, "g"));
    if (0 === i.length || !s) throw new Error("Invalid date format.");
    var n = s.map(function (e) {
        return k[e];
      }),
      a = Object.keys(b).reduce(function (e, t) {
        return s.find(function (e) {
          return "D" !== e[0] && e[0].toLowerCase() === t;
        }) && e.push(t), e;
      }, []);
    return v[e] = {
      parser: function parser(e, t) {
        var i = e.split(y).reduce(function (e, t, i) {
          if (t.length > 0 && s[i]) {
            var _n = s[i][0];
            "M" === _n ? e.m = t : "D" !== _n && (e[_n] = t);
          }
          return e;
        }, {});
        return a.reduce(function (e, s) {
          var n = b[s](e, i[s], t);
          return isNaN(n) ? e : n;
        }, c());
      },
      formatter: function formatter(e, s) {
        return n.reduce(function (t, n, a) {
          return t + "".concat(i[a]).concat(n(e, s));
        }, "") + t(i);
      }
    };
  }
  function O(e, t, i) {
    if (e instanceof Date || "number" == typeof e) {
      var _t = o(e);
      return isNaN(_t) ? void 0 : _t;
    }
    if (e) {
      if ("today" === e) return c();
      if (t && t.toValue) {
        var _s2 = t.toValue(e, t, i);
        return isNaN(_s2) ? void 0 : o(_s2);
      }
      return S(t).parser(e, i);
    }
  }
  function C(e, t, i) {
    if (isNaN(e) || !e && 0 !== e) return "";
    var s = "number" == typeof e ? new Date(e) : e;
    return t.toDisplay ? t.toDisplay(s, t, i) : S(t).formatter(s, i);
  }
  var E = document.createRange();
  function F(e) {
    return E.createContextualFragment(e);
  }
  function V(e) {
    return e.parentElement || (e.parentNode instanceof ShadowRoot ? e.parentNode.host : void 0);
  }
  function N(e) {
    return e.getRootNode().activeElement === e;
  }
  function L(e) {
    "none" !== e.style.display && (e.style.display && (e.dataset.styleDisplay = e.style.display), e.style.display = "none");
  }
  function B(e) {
    "none" === e.style.display && (e.dataset.styleDisplay ? (e.style.display = e.dataset.styleDisplay, delete e.dataset.styleDisplay) : e.style.display = "");
  }
  function A(e) {
    e.firstChild && (e.removeChild(e.firstChild), A(e));
  }
  var Y = new WeakMap(),
    _EventTarget$prototyp = EventTarget.prototype,
    W = _EventTarget$prototyp.addEventListener,
    H = _EventTarget$prototyp.removeEventListener;
  function j(e, t) {
    var i = Y.get(e);
    i || (i = [], Y.set(e, i)), t.forEach(function (e) {
      W.call.apply(W, _toConsumableArray(e)), i.push(e);
    });
  }
  function T(e) {
    var t = Y.get(e);
    t && (t.forEach(function (e) {
      H.call.apply(H, _toConsumableArray(e));
    }), Y["delete"](e));
  }
  if (!Event.prototype.composedPath) {
    var _e3 = function _e3(t) {
      var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
      var s;
      return i.push(t), t.parentNode ? s = t.parentNode : t.host ? s = t.host : t.defaultView && (s = t.defaultView), s ? _e3(s, i) : i;
    };
    Event.prototype.composedPath = function () {
      return _e3(this.target);
    };
  }
  function _(e, t, i) {
    var _e4 = _toArray(e),
      s = _e4[0],
      n = _e4.slice(1);
    return t(s) ? s : s !== i && "HTML" !== s.tagName && 0 !== n.length ? _(n, t, i) : void 0;
  }
  function K(e, t) {
    var i = "function" == typeof t ? t : function (e) {
      return e instanceof Element && e.matches(t);
    };
    return _(e.composedPath(), i, e.currentTarget);
  }
  var $ = {
      en: {
        days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
        months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        today: "Today",
        clear: "Clear",
        titleFormat: "MM y"
      }
    },
    R = {
      autohide: !1,
      beforeShowDay: null,
      beforeShowDecade: null,
      beforeShowMonth: null,
      beforeShowYear: null,
      calendarWeeks: !1,
      clearBtn: !1,
      dateDelimiter: ",",
      datesDisabled: [],
      daysOfWeekDisabled: [],
      daysOfWeekHighlighted: [],
      defaultViewDate: void 0,
      disableTouchKeyboard: !1,
      format: "mm/dd/yyyy",
      language: "en",
      maxDate: null,
      maxNumberOfDates: 1,
      maxView: 3,
      minDate: null,
      nextArrow: "»",
      orientation: "auto",
      pickLevel: 0,
      prevArrow: "«",
      showDaysOfWeek: !0,
      showOnClick: !0,
      showOnFocus: !0,
      startView: 0,
      title: "",
      todayBtn: !1,
      todayBtnMode: 0,
      todayHighlight: !1,
      updateOnBlur: !0,
      weekStart: 0
    },
    I = R.language,
    P = R.format,
    q = R.weekStart;
  function J(e, t) {
    return e.length < 6 && t >= 0 && t < 7 ? i(e, t) : e;
  }
  function U(e) {
    return (e + 6) % 7;
  }
  function z(e, t, i, s) {
    var n = O(e, t, i);
    return void 0 !== n ? n : s;
  }
  function X(e, t) {
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;
    var s = parseInt(e, 10);
    return s >= 0 && s <= i ? s : t;
  }
  function G(t, s) {
    var n = Object.assign({}, t),
      a = {},
      r = s.constructor.locales,
      d = s.rangeSideIndex;
    var _ref = s.config || {},
      o = _ref.format,
      c = _ref.language,
      h = _ref.locale,
      u = _ref.maxDate,
      f = _ref.maxView,
      p = _ref.minDate,
      g = _ref.pickLevel,
      m = _ref.startView,
      y = _ref.weekStart;
    if (n.language) {
      var _e5;
      if (n.language !== c && (r[n.language] ? _e5 = n.language : (_e5 = n.language.split("-")[0], void 0 === r[_e5] && (_e5 = !1))), delete n.language, _e5) {
        c = a.language = _e5;
        var _t2 = h || r[I];
        h = Object.assign({
          format: P,
          weekStart: q
        }, r[I]), c !== I && Object.assign(h, r[c]), a.locale = h, o === _t2.format && (o = a.format = h.format), y === _t2.weekStart && (y = a.weekStart = h.weekStart, a.weekEnd = U(h.weekStart));
      }
    }
    if (n.format) {
      var _e6 = "function" == typeof n.format.toDisplay,
        _t3 = "function" == typeof n.format.toValue,
        _i = D.test(n.format);
      (_e6 && _t3 || _i) && (o = a.format = n.format), delete n.format;
    }
    var v = g;
    void 0 !== n.pickLevel && (v = X(n.pickLevel, 2), delete n.pickLevel), v !== g && (v > g && (void 0 === n.minDate && (n.minDate = p), void 0 === n.maxDate && (n.maxDate = u)), n.datesDisabled || (n.datesDisabled = []), g = a.pickLevel = v);
    var b = p,
      k = u;
    if (void 0 !== n.minDate) {
      var _e7 = l(0, 0, 1);
      b = null === n.minDate ? _e7 : z(n.minDate, o, h, b), b !== _e7 && (b = w(b, g, !1)), delete n.minDate;
    }
    if (void 0 !== n.maxDate && (k = null === n.maxDate ? void 0 : z(n.maxDate, o, h, k), void 0 !== k && (k = w(k, g, !0)), delete n.maxDate), k < b ? (p = a.minDate = k, u = a.maxDate = b) : (p !== b && (p = a.minDate = b), u !== k && (u = a.maxDate = k)), n.datesDisabled && (a.datesDisabled = n.datesDisabled.reduce(function (e, t) {
      var s = O(t, o, h);
      return void 0 !== s ? i(e, w(s, g, d)) : e;
    }, []), delete n.datesDisabled), void 0 !== n.defaultViewDate) {
      var _e8 = O(n.defaultViewDate, o, h);
      void 0 !== _e8 && (a.defaultViewDate = _e8), delete n.defaultViewDate;
    }
    if (void 0 !== n.weekStart) {
      var _e9 = Number(n.weekStart) % 7;
      isNaN(_e9) || (y = a.weekStart = _e9, a.weekEnd = U(_e9)), delete n.weekStart;
    }
    if (n.daysOfWeekDisabled && (a.daysOfWeekDisabled = n.daysOfWeekDisabled.reduce(J, []), delete n.daysOfWeekDisabled), n.daysOfWeekHighlighted && (a.daysOfWeekHighlighted = n.daysOfWeekHighlighted.reduce(J, []), delete n.daysOfWeekHighlighted), void 0 !== n.maxNumberOfDates) {
      var _e10 = parseInt(n.maxNumberOfDates, 10);
      _e10 >= 0 && (a.maxNumberOfDates = _e10, a.multidate = 1 !== _e10), delete n.maxNumberOfDates;
    }
    n.dateDelimiter && (a.dateDelimiter = String(n.dateDelimiter), delete n.dateDelimiter);
    var x = f;
    void 0 !== n.maxView && (x = X(n.maxView, f), delete n.maxView), x = g > x ? g : x, x !== f && (f = a.maxView = x);
    var M = m;
    if (void 0 !== n.startView && (M = X(n.startView, M), delete n.startView), M < g ? M = g : M > f && (M = f), M !== m && (a.startView = M), n.prevArrow) {
      var _e11 = F(n.prevArrow);
      _e11.childNodes.length > 0 && (a.prevArrow = _e11.childNodes), delete n.prevArrow;
    }
    if (n.nextArrow) {
      var _e12 = F(n.nextArrow);
      _e12.childNodes.length > 0 && (a.nextArrow = _e12.childNodes), delete n.nextArrow;
    }
    if (void 0 !== n.disableTouchKeyboard && (a.disableTouchKeyboard = "ontouchstart" in document && !!n.disableTouchKeyboard, delete n.disableTouchKeyboard), n.orientation) {
      var _e13 = n.orientation.toLowerCase().split(/\s+/g);
      a.orientation = {
        x: _e13.find(function (e) {
          return "left" === e || "right" === e;
        }) || "auto",
        y: _e13.find(function (e) {
          return "top" === e || "bottom" === e;
        }) || "auto"
      }, delete n.orientation;
    }
    if (void 0 !== n.todayBtnMode) {
      switch (n.todayBtnMode) {
        case 0:
        case 1:
          a.todayBtnMode = n.todayBtnMode;
      }
      delete n.todayBtnMode;
    }
    return Object.keys(n).forEach(function (t) {
      void 0 !== n[t] && e(R, t) && (a[t] = n[t]);
    }), a;
  }
  var Q = d('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'),
    Z = d("<div class=\"days\">\n  <div class=\"days-of-week\">".concat(r("span", 7, {
      "class": "dow"
    }), "</div>\n  <div class=\"datepicker-grid\">").concat(r("span", 42), "</div>\n</div>")),
    ee = d("<div class=\"calendar-weeks\">\n  <div class=\"days-of-week\"><span class=\"dow\"></span></div>\n  <div class=\"weeks\">".concat(r("span", 6, {
      "class": "week"
    }), "</div>\n</div>"));
  var te = /*#__PURE__*/function () {
    function te(e, t) {
      _classCallCheck(this, te);
      Object.assign(this, t, {
        picker: e,
        element: F('<div class="datepicker-view"></div>').firstChild,
        selected: []
      }), this.init(this.picker.datepicker.config);
    }
    _createClass(te, [{
      key: "init",
      value: function init(e) {
        void 0 !== e.pickLevel && (this.isMinView = this.id === e.pickLevel), this.setOptions(e), this.updateFocus(), this.updateSelection();
      }
    }, {
      key: "performBeforeHook",
      value: function performBeforeHook(e, t, s) {
        var n = this.beforeShow(new Date(s));
        switch (_typeof(n)) {
          case "boolean":
            n = {
              enabled: n
            };
            break;
          case "string":
            n = {
              classes: n
            };
        }
        if (n) {
          if (!1 === n.enabled && (e.classList.add("disabled"), i(this.disabled, t)), n.classes) {
            var _e$classList;
            var _s3 = n.classes.split(/\s+/);
            (_e$classList = e.classList).add.apply(_e$classList, _toConsumableArray(_s3)), _s3.includes("disabled") && i(this.disabled, t);
          }
          n.content && function (e, t) {
            A(e), t instanceof DocumentFragment ? e.appendChild(t) : "string" == typeof t ? e.appendChild(F(t)) : "function" == typeof t.forEach && t.forEach(function (t) {
              e.appendChild(t);
            });
          }(e, n.content);
        }
      }
    }]);
    return te;
  }();
  var ie = /*#__PURE__*/function (_te) {
    _inherits(ie, _te);
    var _super = _createSuper(ie);
    function ie(e) {
      _classCallCheck(this, ie);
      return _super.call(this, e, {
        id: 0,
        name: "days",
        cellClass: "day"
      });
    }
    _createClass(ie, [{
      key: "init",
      value: function init(e) {
        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        if (t) {
          var _e14 = F(Z).firstChild;
          this.dow = _e14.firstChild, this.grid = _e14.lastChild, this.element.appendChild(_e14);
        }
        _get(_getPrototypeOf(ie.prototype), "init", this).call(this, e);
      }
    }, {
      key: "setOptions",
      value: function setOptions(t) {
        var _this = this;
        var i;
        if (e(t, "minDate") && (this.minDate = t.minDate), e(t, "maxDate") && (this.maxDate = t.maxDate), t.datesDisabled && (this.datesDisabled = t.datesDisabled), t.daysOfWeekDisabled && (this.daysOfWeekDisabled = t.daysOfWeekDisabled, i = !0), t.daysOfWeekHighlighted && (this.daysOfWeekHighlighted = t.daysOfWeekHighlighted), void 0 !== t.todayHighlight && (this.todayHighlight = t.todayHighlight), void 0 !== t.weekStart && (this.weekStart = t.weekStart, this.weekEnd = t.weekEnd, i = !0), t.locale) {
          var _e15 = this.locale = t.locale;
          this.dayNames = _e15.daysMin, this.switchLabelFormat = _e15.titleFormat, i = !0;
        }
        if (void 0 !== t.beforeShowDay && (this.beforeShow = "function" == typeof t.beforeShowDay ? t.beforeShowDay : void 0), void 0 !== t.calendarWeeks) if (t.calendarWeeks && !this.calendarWeeks) {
          var _e16 = F(ee).firstChild;
          this.calendarWeeks = {
            element: _e16,
            dow: _e16.firstChild,
            weeks: _e16.lastChild
          }, this.element.insertBefore(_e16, this.element.firstChild);
        } else this.calendarWeeks && !t.calendarWeeks && (this.element.removeChild(this.calendarWeeks.element), this.calendarWeeks = null);
        void 0 !== t.showDaysOfWeek && (t.showDaysOfWeek ? (B(this.dow), this.calendarWeeks && B(this.calendarWeeks.dow)) : (L(this.dow), this.calendarWeeks && L(this.calendarWeeks.dow))), i && Array.from(this.dow.children).forEach(function (e, t) {
          var i = (_this.weekStart + t) % 7;
          e.textContent = _this.dayNames[i], e.className = _this.daysOfWeekDisabled.includes(i) ? "dow disabled" : "dow";
        });
      }
    }, {
      key: "updateFocus",
      value: function updateFocus() {
        var e = new Date(this.picker.viewDate),
          t = e.getFullYear(),
          i = e.getMonth(),
          s = l(t, i, 1),
          n = g(s, this.weekStart, this.weekStart);
        this.first = s, this.last = l(t, i + 1, 0), this.start = n, this.focused = this.picker.viewDate;
      }
    }, {
      key: "updateSelection",
      value: function updateSelection() {
        var _this$picker$datepick = this.picker.datepicker,
          e = _this$picker$datepick.dates,
          t = _this$picker$datepick.rangepicker;
        this.selected = e, t && (this.range = t.dates);
      }
    }, {
      key: "render",
      value: function render() {
        var _this2 = this;
        this.today = this.todayHighlight ? c() : void 0, this.disabled = _toConsumableArray(this.datesDisabled);
        var e = C(this.focused, this.switchLabelFormat, this.locale);
        if (this.picker.setViewSwitchLabel(e), this.picker.setPrevBtnDisabled(this.first <= this.minDate), this.picker.setNextBtnDisabled(this.last >= this.maxDate), this.calendarWeeks) {
          var _e17 = g(this.first, 1, 1);
          Array.from(this.calendarWeeks.weeks.children).forEach(function (t, i) {
            t.textContent = function (e) {
              var t = g(e, 4, 1),
                i = g(new Date(t).setMonth(0, 4), 4, 1);
              return Math.round((t - i) / 6048e5) + 1;
            }(h(_e17, 7 * i));
          });
        }
        Array.from(this.grid.children).forEach(function (e, t) {
          var s = e.classList,
            n = h(_this2.start, t),
            a = new Date(n),
            r = a.getDay();
          if (e.className = "datepicker-cell ".concat(_this2.cellClass), e.dataset.date = n, e.textContent = a.getDate(), n < _this2.first ? s.add("prev") : n > _this2.last && s.add("next"), _this2.today === n && s.add("today"), (n < _this2.minDate || n > _this2.maxDate || _this2.disabled.includes(n)) && s.add("disabled"), _this2.daysOfWeekDisabled.includes(r) && (s.add("disabled"), i(_this2.disabled, n)), _this2.daysOfWeekHighlighted.includes(r) && s.add("highlighted"), _this2.range) {
            var _this2$range = _slicedToArray(_this2.range, 2),
              _e18 = _this2$range[0],
              _t4 = _this2$range[1];
            n > _e18 && n < _t4 && s.add("range"), n === _e18 && s.add("range-start"), n === _t4 && s.add("range-end");
          }
          _this2.selected.includes(n) && s.add("selected"), n === _this2.focused && s.add("focused"), _this2.beforeShow && _this2.performBeforeHook(e, n, n);
        });
      }
    }, {
      key: "refresh",
      value: function refresh() {
        var _this3 = this;
        var _ref2 = this.range || [],
          _ref3 = _slicedToArray(_ref2, 2),
          e = _ref3[0],
          t = _ref3[1];
        this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) {
          e.classList.remove("range", "range-start", "range-end", "selected", "focused");
        }), Array.from(this.grid.children).forEach(function (i) {
          var s = Number(i.dataset.date),
            n = i.classList;
          s > e && s < t && n.add("range"), s === e && n.add("range-start"), s === t && n.add("range-end"), _this3.selected.includes(s) && n.add("selected"), s === _this3.focused && n.add("focused");
        });
      }
    }, {
      key: "refreshFocus",
      value: function refreshFocus() {
        var e = Math.round((this.focused - this.start) / 864e5);
        this.grid.querySelectorAll(".focused").forEach(function (e) {
          e.classList.remove("focused");
        }), this.grid.children[e].classList.add("focused");
      }
    }]);
    return ie;
  }(te);
  function se(e, t) {
    if (!e || !e[0] || !e[1]) return;
    var _e19 = _slicedToArray(e, 2),
      _e19$ = _slicedToArray(_e19[0], 2),
      i = _e19$[0],
      s = _e19$[1],
      _e19$2 = _slicedToArray(_e19[1], 2),
      n = _e19$2[0],
      a = _e19$2[1];
    return i > t || n < t ? void 0 : [i === t ? s : -1, n === t ? a : 12];
  }
  var ne = /*#__PURE__*/function (_te2) {
    _inherits(ne, _te2);
    var _super2 = _createSuper(ne);
    function ne(e) {
      _classCallCheck(this, ne);
      return _super2.call(this, e, {
        id: 1,
        name: "months",
        cellClass: "month"
      });
    }
    _createClass(ne, [{
      key: "init",
      value: function init(e) {
        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        t && (this.grid = this.element, this.element.classList.add("months", "datepicker-grid"), this.grid.appendChild(F(r("span", 12, {
          "data-month": function dataMonth(e) {
            return e;
          }
        })))), _get(_getPrototypeOf(ne.prototype), "init", this).call(this, e);
      }
    }, {
      key: "setOptions",
      value: function setOptions(t) {
        if (t.locale && (this.monthNames = t.locale.monthsShort), e(t, "minDate")) if (void 0 === t.minDate) this.minYear = this.minMonth = this.minDate = void 0;else {
          var _e20 = new Date(t.minDate);
          this.minYear = _e20.getFullYear(), this.minMonth = _e20.getMonth(), this.minDate = _e20.setDate(1);
        }
        if (e(t, "maxDate")) if (void 0 === t.maxDate) this.maxYear = this.maxMonth = this.maxDate = void 0;else {
          var _e21 = new Date(t.maxDate);
          this.maxYear = _e21.getFullYear(), this.maxMonth = _e21.getMonth(), this.maxDate = l(this.maxYear, this.maxMonth + 1, 0);
        }
        this.isMinView ? t.datesDisabled && (this.datesDisabled = t.datesDisabled) : this.datesDisabled = [], void 0 !== t.beforeShowMonth && (this.beforeShow = "function" == typeof t.beforeShowMonth ? t.beforeShowMonth : void 0);
      }
    }, {
      key: "updateFocus",
      value: function updateFocus() {
        var e = new Date(this.picker.viewDate);
        this.year = e.getFullYear(), this.focused = e.getMonth();
      }
    }, {
      key: "updateSelection",
      value: function updateSelection() {
        var _this$picker$datepick2 = this.picker.datepicker,
          e = _this$picker$datepick2.dates,
          t = _this$picker$datepick2.rangepicker;
        this.selected = e.reduce(function (e, t) {
          var s = new Date(t),
            n = s.getFullYear(),
            a = s.getMonth();
          return void 0 === e[n] ? e[n] = [a] : i(e[n], a), e;
        }, {}), t && t.dates && (this.range = t.dates.map(function (e) {
          var t = new Date(e);
          return isNaN(t) ? void 0 : [t.getFullYear(), t.getMonth()];
        }));
      }
    }, {
      key: "render",
      value: function render() {
        var _this4 = this;
        this.disabled = this.datesDisabled.reduce(function (e, t) {
          var i = new Date(t);
          return _this4.year === i.getFullYear() && e.push(i.getMonth()), e;
        }, []), this.picker.setViewSwitchLabel(this.year), this.picker.setPrevBtnDisabled(this.year <= this.minYear), this.picker.setNextBtnDisabled(this.year >= this.maxYear);
        var e = this.selected[this.year] || [],
          t = this.year < this.minYear || this.year > this.maxYear,
          i = this.year === this.minYear,
          s = this.year === this.maxYear,
          n = se(this.range, this.year);
        Array.from(this.grid.children).forEach(function (a, r) {
          var d = a.classList,
            o = l(_this4.year, r, 1);
          if (a.className = "datepicker-cell ".concat(_this4.cellClass), _this4.isMinView && (a.dataset.date = o), a.textContent = _this4.monthNames[r], (t || i && r < _this4.minMonth || s && r > _this4.maxMonth || _this4.disabled.includes(r)) && d.add("disabled"), n) {
            var _n2 = _slicedToArray(n, 2),
              _e22 = _n2[0],
              _t5 = _n2[1];
            r > _e22 && r < _t5 && d.add("range"), r === _e22 && d.add("range-start"), r === _t5 && d.add("range-end");
          }
          e.includes(r) && d.add("selected"), r === _this4.focused && d.add("focused"), _this4.beforeShow && _this4.performBeforeHook(a, r, o);
        });
      }
    }, {
      key: "refresh",
      value: function refresh() {
        var _this5 = this;
        var e = this.selected[this.year] || [],
          _ref4 = se(this.range, this.year) || [],
          _ref5 = _slicedToArray(_ref4, 2),
          t = _ref5[0],
          i = _ref5[1];
        this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) {
          e.classList.remove("range", "range-start", "range-end", "selected", "focused");
        }), Array.from(this.grid.children).forEach(function (s, n) {
          var a = s.classList;
          n > t && n < i && a.add("range"), n === t && a.add("range-start"), n === i && a.add("range-end"), e.includes(n) && a.add("selected"), n === _this5.focused && a.add("focused");
        });
      }
    }, {
      key: "refreshFocus",
      value: function refreshFocus() {
        this.grid.querySelectorAll(".focused").forEach(function (e) {
          e.classList.remove("focused");
        }), this.grid.children[this.focused].classList.add("focused");
      }
    }]);
    return ne;
  }(te);
  var ae = /*#__PURE__*/function (_te3) {
    _inherits(ae, _te3);
    var _super3 = _createSuper(ae);
    function ae(e, t) {
      _classCallCheck(this, ae);
      return _super3.call(this, e, t);
    }
    _createClass(ae, [{
      key: "init",
      value: function init(e) {
        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;
        var i;
        t && (this.navStep = 10 * this.step, this.beforeShowOption = "beforeShow".concat((i = this.cellClass, _toConsumableArray(i).reduce(function (e, t, i) {
          return e + (i ? t : t.toUpperCase());
        }, ""))), this.grid = this.element, this.element.classList.add(this.name, "datepicker-grid"), this.grid.appendChild(F(r("span", 12)))), _get(_getPrototypeOf(ae.prototype), "init", this).call(this, e);
      }
    }, {
      key: "setOptions",
      value: function setOptions(t) {
        if (e(t, "minDate") && (void 0 === t.minDate ? this.minYear = this.minDate = void 0 : (this.minYear = m(t.minDate, this.step), this.minDate = l(this.minYear, 0, 1))), e(t, "maxDate") && (void 0 === t.maxDate ? this.maxYear = this.maxDate = void 0 : (this.maxYear = m(t.maxDate, this.step), this.maxDate = l(this.maxYear, 11, 31))), this.isMinView ? t.datesDisabled && (this.datesDisabled = t.datesDisabled) : this.datesDisabled = [], void 0 !== t[this.beforeShowOption]) {
          var _e23 = t[this.beforeShowOption];
          this.beforeShow = "function" == typeof _e23 ? _e23 : void 0;
        }
      }
    }, {
      key: "updateFocus",
      value: function updateFocus() {
        var e = new Date(this.picker.viewDate),
          t = m(e, this.navStep),
          i = t + 9 * this.step;
        this.first = t, this.last = i, this.start = t - this.step, this.focused = m(e, this.step);
      }
    }, {
      key: "updateSelection",
      value: function updateSelection() {
        var _this6 = this;
        var _this$picker$datepick3 = this.picker.datepicker,
          e = _this$picker$datepick3.dates,
          t = _this$picker$datepick3.rangepicker;
        this.selected = e.reduce(function (e, t) {
          return i(e, m(t, _this6.step));
        }, []), t && t.dates && (this.range = t.dates.map(function (e) {
          if (void 0 !== e) return m(e, _this6.step);
        }));
      }
    }, {
      key: "render",
      value: function render() {
        var _this7 = this;
        this.disabled = this.datesDisabled.map(function (e) {
          return new Date(e).getFullYear();
        }), this.picker.setViewSwitchLabel("".concat(this.first, "-").concat(this.last)), this.picker.setPrevBtnDisabled(this.first <= this.minYear), this.picker.setNextBtnDisabled(this.last >= this.maxYear), Array.from(this.grid.children).forEach(function (e, t) {
          var i = e.classList,
            s = _this7.start + t * _this7.step,
            n = l(s, 0, 1);
          if (e.className = "datepicker-cell ".concat(_this7.cellClass), _this7.isMinView && (e.dataset.date = n), e.textContent = e.dataset.year = s, 0 === t ? i.add("prev") : 11 === t && i.add("next"), (s < _this7.minYear || s > _this7.maxYear || _this7.disabled.includes(s)) && i.add("disabled"), _this7.range) {
            var _this7$range = _slicedToArray(_this7.range, 2),
              _e24 = _this7$range[0],
              _t6 = _this7$range[1];
            s > _e24 && s < _t6 && i.add("range"), s === _e24 && i.add("range-start"), s === _t6 && i.add("range-end");
          }
          _this7.selected.includes(s) && i.add("selected"), s === _this7.focused && i.add("focused"), _this7.beforeShow && _this7.performBeforeHook(e, s, n);
        });
      }
    }, {
      key: "refresh",
      value: function refresh() {
        var _this8 = this;
        var _ref6 = this.range || [],
          _ref7 = _slicedToArray(_ref6, 2),
          e = _ref7[0],
          t = _ref7[1];
        this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) {
          e.classList.remove("range", "range-start", "range-end", "selected", "focused");
        }), Array.from(this.grid.children).forEach(function (i) {
          var s = Number(i.textContent),
            n = i.classList;
          s > e && s < t && n.add("range"), s === e && n.add("range-start"), s === t && n.add("range-end"), _this8.selected.includes(s) && n.add("selected"), s === _this8.focused && n.add("focused");
        });
      }
    }, {
      key: "refreshFocus",
      value: function refreshFocus() {
        var e = Math.round((this.focused - this.start) / this.step);
        this.grid.querySelectorAll(".focused").forEach(function (e) {
          e.classList.remove("focused");
        }), this.grid.children[e].classList.add("focused");
      }
    }]);
    return ae;
  }(te);
  function re(e, t) {
    var i = {
      date: e.getDate(),
      viewDate: new Date(e.picker.viewDate),
      viewId: e.picker.currentView.id,
      datepicker: e
    };
    e.element.dispatchEvent(new CustomEvent(t, {
      detail: i
    }));
  }
  function de(e, t) {
    var _e$config = e.config,
      i = _e$config.minDate,
      s = _e$config.maxDate,
      _e$picker = e.picker,
      n = _e$picker.currentView,
      r = _e$picker.viewDate;
    var d;
    switch (n.id) {
      case 0:
        d = u(r, t);
        break;
      case 1:
        d = f(r, t);
        break;
      default:
        d = f(r, t * n.navStep);
    }
    d = a(d, i, s), e.picker.changeFocus(d).render();
  }
  function oe(e) {
    var t = e.picker.currentView.id;
    t !== e.config.maxView && e.picker.changeView(t + 1).render();
  }
  function ce(e) {
    e.config.updateOnBlur ? e.update({
      revert: !0
    }) : e.refresh("input"), e.hide();
  }
  function le(e, t) {
    var i = e.picker,
      s = new Date(i.viewDate),
      n = i.currentView.id,
      a = 1 === n ? u(s, t - s.getMonth()) : f(s, t - s.getFullYear());
    i.changeFocus(a).changeView(n - 1).render();
  }
  function he(e) {
    var t = e.picker,
      i = c();
    if (1 === e.config.todayBtnMode) {
      if (e.config.autohide) return void e.setDate(i);
      e.setDate(i, {
        render: !1
      }), t.update();
    }
    t.viewDate !== i && t.changeFocus(i), t.changeView(0).render();
  }
  function ue(e) {
    e.setDate({
      clear: !0
    });
  }
  function fe(e) {
    oe(e);
  }
  function pe(e) {
    de(e, -1);
  }
  function ge(e) {
    de(e, 1);
  }
  function me(e, t) {
    var i = K(t, ".datepicker-cell");
    if (!i || i.classList.contains("disabled")) return;
    var _e$picker$currentView = e.picker.currentView,
      s = _e$picker$currentView.id,
      n = _e$picker$currentView.isMinView;
    n ? e.setDate(Number(i.dataset.date)) : le(e, Number(1 === s ? i.dataset.month : i.dataset.year));
  }
  function we(e) {
    e.preventDefault();
  }
  var De = ["left", "top", "right", "bottom"].reduce(function (e, t) {
      return e[t] = "datepicker-orient-".concat(t), e;
    }, {}),
    ye = function ye(e) {
      return e ? "".concat(e, "px") : e;
    };
  function ve(t, i) {
    if (void 0 !== i.title && (i.title ? (t.controls.title.textContent = i.title, B(t.controls.title)) : (t.controls.title.textContent = "", L(t.controls.title))), i.prevArrow) {
      var _e25 = t.controls.prevBtn;
      A(_e25), i.prevArrow.forEach(function (t) {
        _e25.appendChild(t.cloneNode(!0));
      });
    }
    if (i.nextArrow) {
      var _e26 = t.controls.nextBtn;
      A(_e26), i.nextArrow.forEach(function (t) {
        _e26.appendChild(t.cloneNode(!0));
      });
    }
    if (i.locale && (t.controls.todayBtn.textContent = i.locale.today, t.controls.clearBtn.textContent = i.locale.clear), void 0 !== i.todayBtn && (i.todayBtn ? B(t.controls.todayBtn) : L(t.controls.todayBtn)), e(i, "minDate") || e(i, "maxDate")) {
      var _t$datepicker$config = t.datepicker.config,
        _e27 = _t$datepicker$config.minDate,
        _i2 = _t$datepicker$config.maxDate;
      t.controls.todayBtn.disabled = !n(c(), _e27, _i2);
    }
    void 0 !== i.clearBtn && (i.clearBtn ? B(t.controls.clearBtn) : L(t.controls.clearBtn));
  }
  function be(e) {
    var i = e.dates,
      s = e.config;
    return a(i.length > 0 ? t(i) : s.defaultViewDate, s.minDate, s.maxDate);
  }
  function ke(e, t) {
    var i = new Date(e.viewDate),
      s = new Date(t),
      _e$currentView = e.currentView,
      n = _e$currentView.id,
      a = _e$currentView.year,
      r = _e$currentView.first,
      d = _e$currentView.last,
      o = s.getFullYear();
    switch (e.viewDate = t, o !== i.getFullYear() && re(e.datepicker, "changeYear"), s.getMonth() !== i.getMonth() && re(e.datepicker, "changeMonth"), n) {
      case 0:
        return t < r || t > d;
      case 1:
        return o !== a;
      default:
        return o < r || o > d;
    }
  }
  function xe(e) {
    return window.getComputedStyle(e).direction;
  }
  function Me(e) {
    var t = V(e);
    if (t !== document.body && t) return "visible" !== window.getComputedStyle(t).overflow ? t : Me(t);
  }
  var Se = /*#__PURE__*/function () {
    function Se(e) {
      _classCallCheck(this, Se);
      var _this$datepicker = this.datepicker = e,
        t = _this$datepicker.config,
        i = Q.replace(/%buttonClass%/g, t.buttonClass),
        s = this.element = F(i).firstChild,
        _s$firstChild$childre = _slicedToArray(s.firstChild.children, 3),
        n = _s$firstChild$childre[0],
        a = _s$firstChild$childre[1],
        r = _s$firstChild$childre[2],
        d = n.firstElementChild,
        _n$lastElementChild$c = _slicedToArray(n.lastElementChild.children, 3),
        o = _n$lastElementChild$c[0],
        c = _n$lastElementChild$c[1],
        l = _n$lastElementChild$c[2],
        _r$firstChild$childre = _slicedToArray(r.firstChild.children, 2),
        h = _r$firstChild$childre[0],
        u = _r$firstChild$childre[1],
        f = {
          title: d,
          prevBtn: o,
          viewSwitch: c,
          nextBtn: l,
          todayBtn: h,
          clearBtn: u
        };
      this.main = a, this.controls = f;
      var p = e.inline ? "inline" : "dropdown";
      s.classList.add("datepicker-".concat(p)), ve(this, t), this.viewDate = be(e), j(e, [[s, "mousedown", we], [a, "click", me.bind(null, e)], [f.viewSwitch, "click", fe.bind(null, e)], [f.prevBtn, "click", pe.bind(null, e)], [f.nextBtn, "click", ge.bind(null, e)], [f.todayBtn, "click", he.bind(null, e)], [f.clearBtn, "click", ue.bind(null, e)]]), this.views = [new ie(this), new ne(this), new ae(this, {
        id: 2,
        name: "years",
        cellClass: "year",
        step: 1
      }), new ae(this, {
        id: 3,
        name: "decades",
        cellClass: "decade",
        step: 10
      })], this.currentView = this.views[t.startView], this.currentView.render(), this.main.appendChild(this.currentView.element), t.container ? t.container.appendChild(this.element) : e.inputField.after(this.element);
    }
    _createClass(Se, [{
      key: "setOptions",
      value: function setOptions(e) {
        ve(this, e), this.views.forEach(function (t) {
          t.init(e, !1);
        }), this.currentView.render();
      }
    }, {
      key: "detach",
      value: function detach() {
        this.element.remove();
      }
    }, {
      key: "show",
      value: function show() {
        if (this.active) return;
        var e = this.datepicker,
          t = this.element;
        if (e.inline) t.classList.add("active");else {
          var _i3 = xe(e.inputField);
          _i3 !== xe(V(t)) ? t.dir = _i3 : t.dir && t.removeAttribute("dir"), t.style.visiblity = "hidden", t.classList.add("active"), this.place(), t.style.visiblity = "", e.config.disableTouchKeyboard && e.inputField.blur();
        }
        this.active = !0, re(e, "show");
      }
    }, {
      key: "hide",
      value: function hide() {
        this.active && (this.datepicker.exitEditMode(), this.element.classList.remove("active"), this.active = !1, re(this.datepicker, "hide"));
      }
    }, {
      key: "place",
      value: function place() {
        var _this$element = this.element,
          e = _this$element.classList,
          t = _this$element.offsetParent,
          i = _this$element.style,
          _this$datepicker2 = this.datepicker,
          s = _this$datepicker2.config,
          n = _this$datepicker2.inputField,
          _this$element$getBoun = this.element.getBoundingClientRect(),
          a = _this$element$getBoun.width,
          r = _this$element$getBoun.height,
          _n$getBoundingClientR = n.getBoundingClientRect(),
          d = _n$getBoundingClientR.left,
          o = _n$getBoundingClientR.top,
          c = _n$getBoundingClientR.right,
          l = _n$getBoundingClientR.bottom,
          h = _n$getBoundingClientR.width,
          u = _n$getBoundingClientR.height;
        var _s$orientation = s.orientation,
          f = _s$orientation.x,
          p = _s$orientation.y,
          g = d,
          m = o;
        if (t !== document.body && t) {
          var _e28 = t.getBoundingClientRect();
          g -= _e28.left - t.scrollLeft, m -= _e28.top - t.scrollTop;
        } else g += window.scrollX, m += window.scrollY;
        var w = Me(n);
        var D = 0,
          y = 0,
          _document$documentEle = document.documentElement,
          v = _document$documentEle.clientWidth,
          b = _document$documentEle.clientHeight;
        if (w) {
          var _e29 = w.getBoundingClientRect();
          _e29.top > 0 && (y = _e29.top), _e29.left > 0 && (D = _e29.left), _e29.right < v && (v = _e29.right), _e29.bottom < b && (b = _e29.bottom);
        }
        var k = 0;
        "auto" === f && (d < D ? (f = "left", k = D - d) : d + a > v ? (f = "right", v < c && (k = v - c)) : f = "rtl" === xe(n) ? c - a < D ? "left" : "right" : "left"), "right" === f && (g += h - a), g += k, "auto" === p && (p = o - r > y && l + r > b ? "top" : "bottom"), "top" === p ? m -= r : m += u, e.remove.apply(e, _toConsumableArray(Object.values(De))), e.add(De[f], De[p]), i.left = ye(g), i.top = ye(m);
      }
    }, {
      key: "setViewSwitchLabel",
      value: function setViewSwitchLabel(e) {
        this.controls.viewSwitch.textContent = e;
      }
    }, {
      key: "setPrevBtnDisabled",
      value: function setPrevBtnDisabled(e) {
        this.controls.prevBtn.disabled = e;
      }
    }, {
      key: "setNextBtnDisabled",
      value: function setNextBtnDisabled(e) {
        this.controls.nextBtn.disabled = e;
      }
    }, {
      key: "changeView",
      value: function changeView(e) {
        var t = this.currentView,
          i = this.views[e];
        return i.id !== t.id && (this.currentView = i, this._renderMethod = "render", re(this.datepicker, "changeView"), this.main.replaceChild(i.element, t.element)), this;
      }
    }, {
      key: "changeFocus",
      value: function changeFocus(e) {
        return this._renderMethod = ke(this, e) ? "render" : "refreshFocus", this.views.forEach(function (e) {
          e.updateFocus();
        }), this;
      }
    }, {
      key: "update",
      value: function update() {
        var e = be(this.datepicker);
        return this._renderMethod = ke(this, e) ? "render" : "refresh", this.views.forEach(function (e) {
          e.updateFocus(), e.updateSelection();
        }), this;
      }
    }, {
      key: "render",
      value: function render() {
        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !0;
        var t = e && this._renderMethod || "render";
        delete this._renderMethod, this.currentView[t]();
      }
    }]);
    return Se;
  }();
  function Oe(e, t, i, s, a, r) {
    if (n(e, a, r)) {
      if (s(e)) {
        return Oe(t(e, i), t, i, s, a, r);
      }
      return e;
    }
  }
  function Ce(e, t, i, s) {
    var n = e.picker,
      a = n.currentView,
      r = a.step || 1;
    var d,
      o,
      c = n.viewDate;
    switch (a.id) {
      case 0:
        c = s ? h(c, 7 * i) : t.ctrlKey || t.metaKey ? f(c, i) : h(c, i), d = h, o = function o(e) {
          return a.disabled.includes(e);
        };
        break;
      case 1:
        c = u(c, s ? 4 * i : i), d = u, o = function o(e) {
          var t = new Date(e),
            i = a.year,
            s = a.disabled;
          return t.getFullYear() === i && s.includes(t.getMonth());
        };
        break;
      default:
        c = f(c, i * (s ? 4 : 1) * r), d = f, o = function o(e) {
          return a.disabled.includes(m(e, r));
        };
    }
    c = Oe(c, d, i < 0 ? -r : r, o, a.minDate, a.maxDate), void 0 !== c && n.changeFocus(c).render();
  }
  function Ee(e, t) {
    var i = t.key;
    if ("Tab" === i) return void ce(e);
    var s = e.picker,
      _s$currentView = s.currentView,
      n = _s$currentView.id,
      a = _s$currentView.isMinView;
    if (s.active) {
      if (e.editMode) return void ("Enter" === i ? e.exitEditMode({
        update: !0,
        autohide: e.config.autohide
      }) : "Escape" === i && s.hide());
      if ("ArrowLeft" === i) {
        if (t.ctrlKey || t.metaKey) de(e, -1);else {
          if (t.shiftKey) return void e.enterEditMode();
          Ce(e, t, -1, !1);
        }
      } else if ("ArrowRight" === i) {
        if (t.ctrlKey || t.metaKey) de(e, 1);else {
          if (t.shiftKey) return void e.enterEditMode();
          Ce(e, t, 1, !1);
        }
      } else if ("ArrowUp" === i) {
        if (t.ctrlKey || t.metaKey) oe(e);else {
          if (t.shiftKey) return void e.enterEditMode();
          Ce(e, t, -1, !0);
        }
      } else if ("ArrowDown" === i) {
        if (t.shiftKey && !t.ctrlKey && !t.metaKey) return void e.enterEditMode();
        Ce(e, t, 1, !0);
      } else {
        if ("Enter" !== i) return void ("Escape" === i ? s.hide() : "Backspace" !== i && "Delete" !== i && (1 !== i.length || t.ctrlKey || t.metaKey) || e.enterEditMode());
        if (a) return void e.setDate(s.viewDate);
        s.changeView(n - 1).render();
      }
    } else {
      if ("ArrowDown" !== i) return void ("Enter" === i ? e.update() : "Escape" === i && s.show());
      s.show();
    }
    t.preventDefault();
  }
  function Fe(e) {
    e.config.showOnFocus && !e._showing && e.show();
  }
  function Ve(e, t) {
    var i = t.target;
    (e.picker.active || e.config.showOnClick) && (i._active = N(i), i._clicking = setTimeout(function () {
      delete i._active, delete i._clicking;
    }, 2e3));
  }
  function Ne(e, t) {
    var i = t.target;
    i._clicking && (clearTimeout(i._clicking), delete i._clicking, i._active && e.enterEditMode(), delete i._active, e.config.showOnClick && e.show());
  }
  function Le(e, t) {
    t.clipboardData.types.includes("text/plain") && e.enterEditMode();
  }
  function Be(e, t) {
    var i = e.element,
      s = e.picker;
    if (!s.active && !N(i)) return;
    var n = s.element;
    K(t, function (e) {
      return e === i || e === n;
    }) || ce(e);
  }
  function Ae(e, t) {
    return e.map(function (e) {
      return C(e, t.format, t.locale);
    }).join(t.dateDelimiter);
  }
  function Ye(e, t) {
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
    var s = e.config,
      a = e.dates,
      r = e.rangeSideIndex;
    if (0 === t.length) return i ? [] : void 0;
    var d = t.reduce(function (e, t) {
      var i = O(t, s.format, s.locale);
      return void 0 === i || (i = w(i, s.pickLevel, r), !n(i, s.minDate, s.maxDate) || e.includes(i) || s.datesDisabled.includes(i) || !(s.pickLevel > 0) && s.daysOfWeekDisabled.includes(new Date(i).getDay()) || e.push(i)), e;
    }, []);
    return 0 !== d.length ? (s.multidate && !i && (d = d.reduce(function (e, t) {
      return a.includes(t) || e.push(t), e;
    }, a.filter(function (e) {
      return !d.includes(e);
    }))), s.maxNumberOfDates && d.length > s.maxNumberOfDates ? d.slice(-1 * s.maxNumberOfDates) : d) : void 0;
  }
  function We(e) {
    var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;
    var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;
    var s = e.config,
      n = e.picker,
      a = e.inputField;
    if (2 & t) {
      var _e30 = n.active ? s.pickLevel : s.startView;
      n.update().changeView(_e30).render(i);
    }
    1 & t && a && (a.value = Ae(e.dates, s));
  }
  function He(e, t, i) {
    var s = i.clear,
      n = i.render,
      a = i.autohide,
      r = i.revert;
    void 0 === n && (n = !0), n ? void 0 === a && (a = e.config.autohide) : a = !1;
    var d = Ye(e, t, s);
    (d || r) && (d && d.toString() !== e.dates.toString() ? (e.dates = d, We(e, n ? 3 : 1), re(e, "changeDate")) : We(e, 1), a && e.hide());
  }
  var je = /*#__PURE__*/function () {
    function je(e) {
      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var i = arguments.length > 2 ? arguments[2] : undefined;
      _classCallCheck(this, je);
      e.datepicker = this, this.element = e;
      var n = this.config = Object.assign({
          buttonClass: t.buttonClass && String(t.buttonClass) || "button",
          container: null,
          defaultViewDate: c(),
          maxDate: void 0,
          minDate: void 0
        }, G(R, this)),
        a = this.inline = "INPUT" !== e.tagName;
      var r, d;
      if (a ? n.container = e : (t.container && (n.container = t.container instanceof HTMLElement ? t.container : document.querySelector(t.container)), r = this.inputField = e, r.classList.add("datepicker-input")), i) {
        var _e31 = i.inputs.indexOf(r),
          _t7 = i.datepickers;
        if (_e31 < 0 || _e31 > 1 || !Array.isArray(_t7)) throw Error("Invalid rangepicker object.");
        _t7[_e31] = this, Object.defineProperty(this, "rangepicker", {
          get: function get() {
            return i;
          }
        }), Object.defineProperty(this, "rangeSideIndex", {
          get: function get() {
            return _e31;
          }
        });
      }
      this._options = t, Object.assign(n, G(t, this)), a ? (d = s(e.dataset.date, n.dateDelimiter), delete e.dataset.date) : d = s(r.value, n.dateDelimiter), this.dates = [];
      var o = Ye(this, d);
      o && o.length > 0 && (this.dates = o), r && (r.value = Ae(this.dates, n));
      var l = this.picker = new Se(this);
      if (a) this.show();else {
        var _e32 = Be.bind(null, this);
        j(this, [[r, "keydown", Ee.bind(null, this)], [r, "focus", Fe.bind(null, this)], [r, "mousedown", Ve.bind(null, this)], [r, "click", Ne.bind(null, this)], [r, "paste", Le.bind(null, this)], [document, "mousedown", _e32], [document, "touchstart", _e32], [window, "resize", l.place.bind(l)]]);
      }
    }
    _createClass(je, [{
      key: "active",
      get: function get() {
        return !(!this.picker || !this.picker.active);
      }
    }, {
      key: "pickerElement",
      get: function get() {
        return this.picker ? this.picker.element : void 0;
      }
    }, {
      key: "setOptions",
      value: function setOptions(e) {
        var t = this.picker,
          i = G(e, this);
        Object.assign(this._options, e), Object.assign(this.config, i), t.setOptions(i), We(this, 3);
      }
    }, {
      key: "show",
      value: function show() {
        if (this.inputField) {
          if (this.inputField.disabled) return;
          N(this.inputField) || this.config.disableTouchKeyboard || (this._showing = !0, this.inputField.focus(), delete this._showing);
        }
        this.picker.show();
      }
    }, {
      key: "hide",
      value: function hide() {
        this.inline || (this.picker.hide(), this.picker.update().changeView(this.config.startView).render());
      }
    }, {
      key: "destroy",
      value: function destroy() {
        return this.hide(), T(this), this.picker.detach(), this.inline || this.inputField.classList.remove("datepicker-input"), delete this.element.datepicker, this;
      }
    }, {
      key: "getDate",
      value: function getDate(e) {
        var _this9 = this;
        var t = e ? function (t) {
          return C(t, e, _this9.config.locale);
        } : function (e) {
          return new Date(e);
        };
        return this.config.multidate ? this.dates.map(t) : this.dates.length > 0 ? t(this.dates[0]) : void 0;
      }
    }, {
      key: "setDate",
      value: function setDate() {
        for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          e[_key2] = arguments[_key2];
        }
        var i = [].concat(e),
          s = {},
          n = t(e);
        "object" != _typeof(n) || Array.isArray(n) || n instanceof Date || !n || Object.assign(s, i.pop());
        He(this, Array.isArray(i[0]) ? i[0] : i, s);
      }
    }, {
      key: "update",
      value: function update(e) {
        if (this.inline) return;
        var t = Object.assign(e || {}, {
          clear: !0,
          render: !0
        });
        He(this, s(this.inputField.value, this.config.dateDelimiter), t);
      }
    }, {
      key: "refresh",
      value: function refresh(e) {
        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;
        var i;
        e && "string" != typeof e && (t = e, e = void 0), i = "picker" === e ? 2 : "input" === e ? 1 : 3, We(this, i, !t);
      }
    }, {
      key: "enterEditMode",
      value: function enterEditMode() {
        this.inline || !this.picker.active || this.editMode || (this.editMode = !0, this.inputField.classList.add("in-edit"));
      }
    }, {
      key: "exitEditMode",
      value: function exitEditMode(e) {
        if (this.inline || !this.editMode) return;
        var t = Object.assign({
          update: !1
        }, e);
        delete this.editMode, this.inputField.classList.remove("in-edit"), t.update && this.update(t);
      }
    }], [{
      key: "formatDate",
      value: function formatDate(e, t, i) {
        return C(e, t, i && $[i] || $.en);
      }
    }, {
      key: "parseDate",
      value: function parseDate(e, t, i) {
        return O(e, t, i && $[i] || $.en);
      }
    }, {
      key: "locales",
      get: function get() {
        return $;
      }
    }]);
    return je;
  }();
  function Te(e) {
    var t = Object.assign({}, e);
    return delete t.inputs, delete t.allowOneSidedRange, delete t.maxNumberOfDates, t;
  }
  function _e(e, t, i, s) {
    j(e, [[i, "changeDate", t]]), new je(i, s, e);
  }
  function Ke(e, t) {
    if (e._updating) return;
    e._updating = !0;
    var i = t.target;
    if (void 0 === i.datepicker) return;
    var s = e.datepickers,
      n = {
        render: !1
      },
      a = e.inputs.indexOf(i),
      r = 0 === a ? 1 : 0,
      d = s[a].dates[0],
      o = s[r].dates[0];
    void 0 !== d && void 0 !== o ? 0 === a && d > o ? (s[0].setDate(o, n), s[1].setDate(d, n)) : 1 === a && d < o && (s[0].setDate(d, n), s[1].setDate(o, n)) : e.allowOneSidedRange || void 0 === d && void 0 === o || (n.clear = !0, s[r].setDate(s[a].dates, n)), s[0].picker.update().render(), s[1].picker.update().render(), delete e._updating;
  }
  window.Datepicker = je, window.DateRangePicker = /*#__PURE__*/function () {
    function _class(e) {
      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      _classCallCheck(this, _class);
      var i = Array.isArray(t.inputs) ? t.inputs : Array.from(e.querySelectorAll("input"));
      if (i.length < 2) return;
      e.rangepicker = this, this.element = e, this.inputs = i.slice(0, 2), this.allowOneSidedRange = !!t.allowOneSidedRange;
      var s = Ke.bind(null, this),
        n = Te(t),
        a = [];
      Object.defineProperty(this, "datepickers", {
        get: function get() {
          return a;
        }
      }), _e(this, s, this.inputs[0], n), _e(this, s, this.inputs[1], n), Object.freeze(a), a[0].dates.length > 0 ? Ke(this, {
        target: this.inputs[0]
      }) : a[1].dates.length > 0 && Ke(this, {
        target: this.inputs[1]
      });
    }
    _createClass(_class, [{
      key: "dates",
      get: function get() {
        return 2 === this.datepickers.length ? [this.datepickers[0].dates[0], this.datepickers[1].dates[0]] : void 0;
      }
    }, {
      key: "setOptions",
      value: function setOptions(e) {
        this.allowOneSidedRange = !!e.allowOneSidedRange;
        var t = Te(e);
        this.datepickers[0].setOptions(t), this.datepickers[1].setOptions(t);
      }
    }, {
      key: "destroy",
      value: function destroy() {
        this.datepickers[0].destroy(), this.datepickers[1].destroy(), T(this), delete this.element.rangepicker;
      }
    }, {
      key: "getDates",
      value: function getDates(e) {
        var _this10 = this;
        var t = e ? function (t) {
          return C(t, e, _this10.datepickers[0].config.locale);
        } : function (e) {
          return new Date(e);
        };
        return this.dates.map(function (e) {
          return void 0 === e ? e : t(e);
        });
      }
    }, {
      key: "setDates",
      value: function setDates(e, t) {
        var _this$datepickers = _slicedToArray(this.datepickers, 2),
          i = _this$datepickers[0],
          s = _this$datepickers[1],
          n = this.dates;
        this._updating = !0, i.setDate(e), s.setDate(t), delete this._updating, s.dates[0] !== n[1] ? Ke(this, {
          target: this.inputs[1]
        }) : i.dates[0] !== n[0] && Ke(this, {
          target: this.inputs[0]
        });
      }
    }]);
    return _class;
  }();
}();