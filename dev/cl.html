<!DOCTYPE html>
<html lang="ko">
<head>
@@include('@@webRoot/include/head.html')
<link rel="stylesheet" href="@@webRoot/css/cl.css">
</head>
<body>
	<div id="wrap">
		<!-- header -->
		@@include('@@webRoot/include/cl_header.html')
		<!-- //header -->
		
		<!-- container -->
		<section id="container">
			<div class="contents">

				<div class="title-area">
					<h2 class="title02">자동차</h2>
					<div class="status">
						<span class="mark">
							<i class="ico mark-on"></i>
							완료
						</span>
						<span class="mark">
							<i class="ico mark-off"></i>
							작업중
						</span> 
					</div>
				</div>

				<div class="tb-wrap first">
					<table>
						<caption></caption>
						<colgroup>
							<col style="width:80px">
							<col span="5">
							<col style="width:80px">
							<col>
							<col style="width:70px">
							<col>
							<col>
						</colgroup>
						<thead>
							<tr>
								<th>상태</th>
								<th>1depth</th>
								<th>2depth</th>
								<th>3depth</th>
								<th>4depth</th>
								<th>5depth</th>
								<th>Folder</th>
								<th>Filename</th>
								<th>작업자</th>
								<th>종료일</th>
								<th>Issue</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>완료</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>완료</td>
								<td>자동차</td>
								<td>상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="tb-wrap">
					<table>
						<caption></caption>
						<colgroup>
							<col style="width:80px">
							<col span="5">
							<col style="width:80px">
							<col>
							<col style="width:70px">
							<col>
							<col>
						</colgroup>
						<thead>
							<tr>
								<th>상태</th>
								<th>1depth</th>
								<th>2depth</th>
								<th>3depth</th>
								<th>4depth</th>
								<th>5depth</th>
								<th>Folder</th>
								<th>Filename</th>
								<th>작업자</th>
								<th>종료일</th>
								<th>Issue</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>완료</td>
								<td>장기</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="tb-wrap">
					<table>
						<caption></caption>
						<colgroup>
							<col style="width:80px">
							<col span="5">
							<col style="width:80px">
							<col>
							<col style="width:70px">
							<col>
							<col>
						</colgroup>
						<thead>
							<tr>
								<th>상태</th>
								<th>1depth</th>
								<th>2depth</th>
								<th>3depth</th>
								<th>4depth</th>
								<th>5depth</th>
								<th>Folder</th>
								<th>Filename</th>
								<th>작업자</th>
								<th>종료일</th>
								<th>Issue</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>작업중</td>
								<td>일반</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>

			</div>
		</section>
		<!-- //container -->

		<!-- footer -->
		<footer id="footer"></footer>
		<!-- //footer -->
	</div>
	<script>
		const progressRate = () => {
			const listItem = document.querySelectorAll('tbody tr td:first-child');
			const itemLgt = listItem.length;

			let workValue = [];
			let workTotal;

			[].forEach.call(listItem, (obj,idx) => {
				workValue[idx] = obj.textContent;
				workTotal = workValue.filter(value => value === '완료').length;
				
				if(workValue[idx].indexOf('작업중')){
					console.log(obj);
					obj.innerHTML = '<i class="ico mark-on"></i>';
				} else {
					obj.innerHTML = '<i class="ico mark-off"></i>';
					console.log(11);
				}
			});

			document.querySelector('.current').innerHTML = workTotal;
			document.querySelector('.total-count').innerHTML = itemLgt;
			document.querySelector('.percent').innerHTML = Math.round(workTotal / itemLgt * 100) + '%';
			document.querySelector('.gauge em').style.width =  Math.round(workTotal / itemLgt * 100) + '%';

		}

		const uiClTab = () => {
			const tabEl = document.querySelector('.ui-cl-tab');
			const btnEl = tabEl.querySelectorAll('.item a');
			const layerEl = document.querySelectorAll(".tb-wrap");

			const btnLength = btnEl.length;
			let idx;
			let titleTxt;

			[].forEach.call(btnEl, (e) => {
				e.addEventListener("click", (event) => {
					event.preventDefault();
					idx = getElIndex(btnEl, e);
					titleTxt = e.innerText;

					document.querySelector('.title-area .title02').innerHTML = titleTxt;

					for (i = 0; i < btnLength; i++) {
						layerEl[i].style.height = "0";
						layerEl[i].style.opacity = "0";
						btnEl[i].classList.remove('active');
					}

					layerEl[idx].style.height = "auto";
					e.classList.add('active');
					setTimeout(function() {
						layerEl[idx].style.opacity = 1;
					});
				});
			});
		}

		progressRate();
		uiClTab();
	</script>
</body>
</html>