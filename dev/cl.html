<!DOCTYPE html>
<html lang="ko">
<head>
@@include('@@webRoot/include/head.html')
<script src="@@webRoot/js/datepicker-full.min.js"></script>
<link rel="stylesheet" href="@@webRoot/css/cl.css">
<link rel="stylesheet" href="@@webRoot/css/datepicker.min.css">
</head>
<body>
	<div id="wrap">
		<!-- header -->
		<header id="header">
			<div class="head-cont">
				<div class="head-wrap">
					<div class="head-top">
						<h1 class="title01">
							<span class="ico"></span>통합프로젝트명
						</h1>
						<div class="components">
							<a href="#" class="c-btns">FROM</a>
							<a href="#" class="c-btns">BUTTON</a>
							<a href="#" class="c-btns">TEXT</a>
							<a href="#" class="c-btns">ICON</a>
						</div>
					</div>
					<div class="head-cate">
						<div class="depth">
							<div class="item">
								<a href="#" class="gnb active">자동차</a>
							</div>
							<div class="item">
								<a href="#" class="gnb">장기</a>
							</div>
							<div class="item">
								<a href="#" class="gnb">일반</a>
							</div>
						</div>

						<div class="cl-progress">
							<div class="total-wrap">
								<span class="txt">Total :</span>
								<span class="current">0</span>
								<span class="bullet">/</span>
								<span class="total-count"></span>
							</div>
							<div class="progress">
								<span class="txt">진척률 : </span>
								<span class="percent"> 10%</span>
								<div class="gauge">
									<em></em>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- //header -->
		
		<!-- container -->
		<section id="container">
			<div class="contents">

				<div class="title-area">
					<h2 class="title02">자동차</h2>
					<div class="status">
						<span class="mark">
							<i class="ico mark-on"></i>
							완료
						</span>
						<span class="mark">
							<i class="ico mark-off"></i>
							작업중
						</span> 
					</div>
				</div>

				<div class="tb-wrap">
					<table>
						<caption></caption>
						<colgroup>
							<col style="width:80px">
							<col span="5">
							<col style="width:80px">
							<col>
							<col style="width:70px">
							<col>
							<col>
						</colgroup>
						<thead>
							<tr>
								<th>상태</th>
								<th>1depth</th>
								<th>2depth</th>
								<th>3depth</th>
								<th>4depth</th>
								<th>5depth</th>
								<th>Folder</th>
								<th>Filename</th>
								<th>작업자</th>
								<th>종료일</th>
								<th>Issue</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>작업중</td>
								<td>자동차</td>
								<td>상품특징상품특징상품특징상품특징 상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
							<tr>
								<td>완료</td>
								<td>자동차</td>
								<td>상품특징</td>
								<td>보험료</td>
								<td>븍랙박스</td>
								<td></td>
								<td>/Fonts</td>
								<td>
									<a href=".html">.html</a>
								</td>
								<td>이민우</td>
								<td><input type="text" name="calendar"></td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>

			</div>
		</section>
		<!-- //container -->

		<!-- footer -->
		<footer id="footer"></footer>
		<!-- //footer -->
	</div>
	<script>
		// const elem = document.querySelectorAll('input[name="calendar"]');
		
		// elem.forEach(function(obj,idx){
		// 	console.log(obj,idx);
		// 	const datepicker = new Datepicker(obj, {
		// 		autohide: true,
		// 		format: 'yy-mm-dd',
		// 	});
		// })
		const progressRate = () => {
			const listItem = document.querySelector('.tb-wrap').querySelectorAll('tbody tr td:first-child');
			const itemLgt = listItem.length;

			let workValue = [];
			let workTotal;
			[].forEach.call(listItem, (obj,idx) => {
				workValue[idx] = obj.textContent;
				workTotal = workValue.filter(value => value === '완료').length;
				
				if(workValue[idx].indexOf('작업중')){
					console.log(obj);
					obj.innerHTML = '<i class="ico mark-on"></i>';
				} else {
					obj.innerHTML = '<i class="ico mark-off"></i>';
					console.log(11);
				}
			});

			document.querySelector('.current').innerHTML = workTotal;
			document.querySelector('.total-count').innerHTML = itemLgt;
			document.querySelector('.percent').innerHTML = Math.round(workTotal / itemLgt * 100) + '%';
			document.querySelector('.gauge em').style.width =  Math.round(workTotal / itemLgt * 100) + '%';

		}
		progressRate();
	</script>
</body>
</html>